<app-main-layout>
  <div nz-flex nzVertical="true" nzGap="middle">
    <div nz-flex nzJustify="space-between">
      <div class="item-flex">
        <nz-input-search nzAllowClear >
          <input nz-input [(ngModel)]="searchValue" placeholder="Поиск" (ngModelChange)="onSearch($event)"/>
        </nz-input-search>
      </div>

      <div class="item-flex">
        <button nz-button nzType="primary" (click)="showCreateModal()">
          <span>Show Modal</span>
        </button>
      </div>
    </div>


    <app-table
      [dataSet]="documents$ | async"
      [loading]="tableLoading"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      [total]="tableTotal$ | async"
      (onPagination)="onPageSizeChange($event)"
      (onChange)="onChangeDocument($event)"></app-table>
  </div>


  <ng-template [ngIf]="isCreateModal">
    <app-create-modal
      [fillData]="document$ | async"
      [(ngModel)]="isCreateModal"
      (closeModal)="closeCreateModal()"
      (create)="onCreate($event)"
      (update)="onUpdate($event)"></app-create-modal>
  </ng-template>
</app-main-layout>
